<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>Word Wiz - Mobile</title>
    <link rel="stylesheet" href="styles.css?v=20250810" />
    <link rel="stylesheet" href="styles.mobile.css?v=20250810" />
  </head>
  <body>
    <header class="app-header mobile">
      <div class="brand">
        <img src="assets/logo.svg" alt="logo" class="logo small" />
        <span>Word Wiz</span>
      </div>
      <div class="header-actions">
        <div class="dropdown">
          <button id="btnSettings" class="btn secondary small">设置 ▾</button>
          <div id="settingsMenu" class="dropdown-menu hidden">
            <button class="btn secondary small" id="btnSwitchToDesktop">切换到桌面版</button>
            <button id="btnClearCache" class="btn danger small" title="清空本地缓存并重置进度">清理缓存</button>
            <button id="btnSetImagesDir" class="btn secondary small">设置图片目录</button>
            <button id="btnSetRecordsDir" class="btn secondary small">设置录音目录</button>
            <button id="btnSetCsvFile" class="btn secondary small">设置CSV文件</button>
            <button id="btnImportWords" class="btn secondary small">导入词表</button>
            <button id="btnFixCsv" class="btn secondary small">一键补全CSV并本地化图片</button>
            <button id="btnExportWordsCsv" class="btn secondary small">导出更新后的CSV</button>
            <button id="btnSaveWordsCsv" class="btn secondary small">保存到CSV（本地写入）</button>
          </div>
        </div>
      </div>
    </header>

    <main id="app" class="app-main mobile">
      <!-- Views -->
    </main>

    <nav class="mobile-tabbar">
      <a href="#learn" class="tab nav-link" data-route="learn">学习</a>
      <a href="#task" class="tab nav-link" data-route="task">任务</a>
      <a href="#all" class="tab nav-link" data-route="all">全部</a>
      <a href="#progress" class="tab nav-link" data-route="progress">进度</a>
    </nav>

    <script src="libs/pinyin-pro.umd.min.js?v=20250810"></script>
    <script>
      if(!window.pinyinPro || typeof window.pinyinPro.pinyin !== 'function'){
        var s=document.createElement('script');
        s.src='https://cdn.jsdelivr.net/npm/pinyin-pro@3.19.7/dist/pinyin-pro.umd.min.js';
        document.head.appendChild(s);
      }
    </script>
    <script type="module" src="scripts/app.js?v=20250810"></script>
  </body>
  </html>


